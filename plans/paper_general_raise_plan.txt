Paper-General Raise (ω: Raise) — Status
======================================

Goal
----
Align the repo with `papers/these-finale-english.txt` (see also `papers/xmlf.txt`) where
`Raise(n)` is an *executable* graph transformation on the expansion graph χe and is
also recorded in the witness language Ω for an instantiation edge.

Current representation (paper-faithful)
---------------------------------------
- The expansion graph is `Constraint` (nodes + edges + binding structure).
- Scope/binding structure is `Constraint.cBindParents :: BindParents`
  (child → (parent, `BindFlag`)).
- Variable bounds and eliminations are tracked in
  `Constraint.cVarBounds` / `Constraint.cEliminatedVars` (`MLF.Constraint.VarStore`).
- The witness language Ω is `InstanceOp` (`OpRaise`, `OpMerge`, `OpGraft`,
  `OpWeaken`, `OpRaiseMerge`). xMLF quantifier-introduction (`O`) is tracked
  separately as `EdgeWitness.ewForallIntros` and appended when constructing Φ(e).

Executable `Raise(n)`
---------------------
- `MLF.Binding.GraphOps.applyRaiseStep` performs one paper-style “raise a binding edge”
  step by rewriting `Constraint.cBindParents`.
- `MLF.Binding.Adjustment.harmonizeBindParentsWithTrace` repeatedly applies
  `applyRaiseStep` to raise two nodes to a binding-tree LCA and returns the exact
  per-step `OpRaise` trace.

Where `Raise(n)` is used
------------------------
- Global solving (`MLF.Constraint.Solve`): harmonize binding parents before unioning two
  variable roots, so the global constraint stays scope-correct.
- Presolution per instantiation edge (`src/MLF/Constraint/Presolution.hs`):
  - Unification calls harmonization and records `OpRaise` steps from the trace.
  - Recorded raises are filtered to the edge interior `I(r)` (from
    `EdgeTrace.etInterior`) and skip nodes under rigid binders.

Φ translation
-------------
- `src/MLF/Elab/Pipeline.hs` translates `OpRaise` into the paper’s Φξ(Raise(n)) effect
  (binder-raise first).
- `integratePhase2Ops` + `normalizeInstanceOps` preserve the required ordering:
  raise steps for a node appear before any operation that eliminates it.

Remaining gaps (still true)
---------------------------
- Witness normalization is intentionally lightweight (barrier-aware
  simplifications), not the full Yakobowski’08 normalization algorithm.
- The solver now enforces a single gen-rooted binding tree so the binding tree
  is connected; “no LCA” is treated as a binding-tree error rather than a
  silent no-op.
